import{S as $,i as x,s as ee,e as w,j as te,k as P,t as N,c as I,a as C,m as se,n as y,g as O,d as g,b,f as j,o as ne,H as f,x as U,J as he,K as J,L as Q,u as B,v as le,l as _e,r as Ce,w as Pe,M as ye,C as De,N as ae,O as ve,P as Le,I as me,Q as pe,R as ge,T as be,U as Ve,V as He,A as Me}from"../chunks/vendor-410a9469.js";function Re(s){let e,t,n,l,r,i,_;return t=new ye({props:{class:"animate-spin mb-4",size:"75"}}),{c(){e=w("div"),te(t.$$.fragment),n=P(),l=w("h1"),r=N("Loading..."),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=C(e);se(t.$$.fragment,h),n=y(h),l=I(h,"H1",{class:!0});var d=C(l);r=O(d,"Loading..."),d.forEach(g),h.forEach(g),this.h()},h(){b(l,"class","font-extrabold text-3xl"),b(e,"class","bg-black absolute w-screen h-screen text-gray-50 flex flex-col justify-center items-center")},m(c,h){j(c,e,h),ne(t,e,null),f(e,n),f(e,l),f(l,r),_=!0},i(c){_||(U(t.$$.fragment,c),he(()=>{i||(i=J(e,Q,{},!0)),i.run(1)}),_=!0)},o(c){B(t.$$.fragment,c),i||(i=J(e,Q,{},!1)),i.run(0),_=!1},d(c){c&&g(e),le(t),c&&i&&i.end()}}}function Ne(s){let e,t,n=s[0]&&Re();return{c(){n&&n.c(),e=_e()},l(l){n&&n.l(l),e=_e()},m(l,r){n&&n.m(l,r),j(l,e,r),t=!0},p(l,[r]){l[0]?n?r&1&&U(n,1):(n=Re(),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(Ce(),B(n,1,1,()=>{n=null}),Pe())},i(l){t||(U(n),t=!0)},o(l){B(n),t=!1},d(l){n&&n.d(l),l&&g(e)}}}function Oe(s,e,t){let{renderInProgress:n}=e;return s.$$set=l=>{"renderInProgress"in l&&t(0,n=l.renderInProgress)},[n]}class je extends ${constructor(e){super();x(this,e,Oe,Ne,ee,{renderInProgress:0})}}const H=[{name:"480p",w:852,h:480},{name:"720p",w:1280,h:720},{name:"1080p",w:1920,h:1080},{name:"1440p",w:2560,h:1440},{name:"4K",w:3840,h:2160},{name:"8K",w:7680,h:4320},{name:"16K",w:15360,h:8640}],W=[20,50,100,255,500,1e3],F=De(0);function we(s,e,t){const n=s.slice();return n[7]=e[t],n[9]=t,n}function Ie(s,e,t){const n=s.slice();return n[7]=e[t],n[9]=t,n}function ke(s){let e,t,n,l,r,i=s[7].name+"",_,c,h,d;return{c(){e=w("div"),t=w("input"),l=P(),r=w("label"),_=N(i),c=P(),this.h()},l(m){e=I(m,"DIV",{});var o=C(e);t=I(o,"INPUT",{type:!0,name:!0}),l=y(o),r=I(o,"LABEL",{for:!0});var a=C(r);_=O(a,i),a.forEach(g),c=y(o),o.forEach(g),this.h()},h(){b(t,"type","radio"),b(t,"name","resolution"),t.__value=n=s[9],t.value=t.__value,t.disabled=s[1],s[5][0].push(t),b(r,"for","Resolution")},m(m,o){j(m,e,o),f(e,t),t.checked=t.__value===s[0],f(e,l),f(e,r),f(r,_),f(e,c),h||(d=ae(t,"change",s[4]),h=!0)},p(m,o){o&2&&(t.disabled=m[1]),o&1&&(t.checked=t.__value===m[0])},d(m){m&&g(e),s[5][0].splice(s[5][0].indexOf(t),1),h=!1,d()}}}function Ee(s){let e,t,n,l,r,i=s[7]+"",_,c,h,d;return{c(){e=w("div"),t=w("input"),l=P(),r=w("label"),_=N(i),c=P(),this.h()},l(m){e=I(m,"DIV",{});var o=C(e);t=I(o,"INPUT",{type:!0,name:!0}),l=y(o),r=I(o,"LABEL",{for:!0});var a=C(r);_=O(a,i),a.forEach(g),c=y(o),o.forEach(g),this.h()},h(){b(t,"type","radio"),b(t,"name","mandelbrot resolution"),t.__value=n=s[9],t.value=t.__value,t.disabled=s[1],s[5][1].push(t),b(r,"for","Resolution")},m(m,o){j(m,e,o),f(e,t),t.checked=t.__value===s[3],f(e,l),f(e,r),f(r,_),f(e,c),h||(d=ae(t,"change",s[6]),h=!0)},p(m,o){o&2&&(t.disabled=m[1]),o&8&&(t.checked=t.__value===m[3])},d(m){m&&g(e),s[5][1].splice(s[5][1].indexOf(t),1),h=!1,d()}}}function ze(s){let e,t,n,l,r,i,_,c,h,d,m,o,a,R,L,D,G,S,X,A,V,Y,q,Z,re,T=H,k=[];for(let v=0;v<T.length;v+=1)k[v]=ke(Ie(s,T,v));let K=W,E=[];for(let v=0;v<K.length;v+=1)E[v]=Ee(we(s,K,v));return{c(){e=w("div"),t=w("h1"),n=N("Render Options:"),l=P(),r=w("h1"),i=N("Canvas Resolution:"),_=P(),c=w("div");for(let v=0;v<k.length;v+=1)k[v].c();h=P(),d=w("h1"),m=N("Mandelbrot Resolution:"),o=P(),a=w("h2"),R=N("(the number of iterations)"),L=P(),D=w("div");for(let v=0;v<E.length;v+=1)E[v].c();G=P(),S=w("hr"),X=P(),A=w("div"),V=w("button"),Y=N("Reset"),this.h()},l(v){e=I(v,"DIV",{class:!0});var p=C(e);t=I(p,"H1",{class:!0});var u=C(t);n=O(u,"Render Options:"),u.forEach(g),l=y(p),r=I(p,"H1",{class:!0});var M=C(r);i=O(M,"Canvas Resolution:"),M.forEach(g),_=y(p),c=I(p,"DIV",{class:!0});var ie=C(c);for(let z=0;z<k.length;z+=1)k[z].l(ie);ie.forEach(g),h=y(p),d=I(p,"H1",{});var oe=C(d);m=O(oe,"Mandelbrot Resolution:"),oe.forEach(g),o=y(p),a=I(p,"H2",{class:!0});var ce=C(a);R=O(ce,"(the number of iterations)"),ce.forEach(g),L=y(p),D=I(p,"DIV",{class:!0});var ue=C(D);for(let z=0;z<E.length;z+=1)E[z].l(ue);ue.forEach(g),G=y(p),S=I(p,"HR",{class:!0}),X=y(p),A=I(p,"DIV",{class:!0});var fe=C(A);V=I(fe,"BUTTON",{class:!0});var de=C(V);Y=O(de,"Reset"),de.forEach(g),fe.forEach(g),p.forEach(g),this.h()},h(){b(t,"class","space-y svelte-19isi4u"),b(r,"class","space-y svelte-19isi4u"),b(c,"class","space-y flex flex-col svelte-19isi4u"),b(a,"class","space-y text-sm svelte-19isi4u"),b(D,"class","space-y flex flex-col svelte-19isi4u"),b(S,"class","pb-4"),b(V,"class","button svelte-19isi4u"),V.disabled=s[1],b(A,"class","w-full flex justify-center"),b(e,"class",q=""+(ve(s[1]?"config-panel z-50 cursor-wait":"config-panel z-50")+" svelte-19isi4u"))},m(v,p){j(v,e,p),f(e,t),f(t,n),f(e,l),f(e,r),f(r,i),f(e,_),f(e,c);for(let u=0;u<k.length;u+=1)k[u].m(c,null);f(e,h),f(e,d),f(d,m),f(e,o),f(e,a),f(a,R),f(e,L),f(e,D);for(let u=0;u<E.length;u+=1)E[u].m(D,null);f(e,G),f(e,S),f(e,X),f(e,A),f(A,V),f(V,Y),Z||(re=ae(V,"click",function(){Le(s[2])&&s[2].apply(this,arguments)}),Z=!0)},p(v,[p]){if(s=v,p&3){T=H;let u;for(u=0;u<T.length;u+=1){const M=Ie(s,T,u);k[u]?k[u].p(M,p):(k[u]=ke(M),k[u].c(),k[u].m(c,null))}for(;u<k.length;u+=1)k[u].d(1);k.length=T.length}if(p&10){K=W;let u;for(u=0;u<K.length;u+=1){const M=we(s,K,u);E[u]?E[u].p(M,p):(E[u]=Ee(M),E[u].c(),E[u].m(D,null))}for(;u<E.length;u+=1)E[u].d(1);E.length=K.length}p&2&&(V.disabled=s[1]),p&2&&q!==(q=""+(ve(s[1]?"config-panel z-50 cursor-wait":"config-panel z-50")+" svelte-19isi4u"))&&b(e,"class",q)},i:me,o:me,d(v){v&&g(e),pe(k,v),pe(E,v),Z=!1,re()}}}function Ae(s,e,t){let n;ge(s,F,d=>t(3,n=d));let{renderInProgress:l}=e,{selectedCanvasRes:r}=e,{reset:i}=e;const _=[[],[]];function c(){r=this.__value,t(0,r)}function h(){n=this.__value,F.set(n)}return s.$$set=d=>{"renderInProgress"in d&&t(1,l=d.renderInProgress),"selectedCanvasRes"in d&&t(0,r=d.selectedCanvasRes),"reset"in d&&t(2,i=d.reset)},[r,l,i,n,c,_,h]}class Te extends ${constructor(e){super();x(this,e,Ae,ze,ee,{renderInProgress:1,selectedCanvasRes:0,reset:2})}}function Ke(s){let e,t,n,l,r,i,_,c,h,d;function m(a){s[6](a)}let o={renderInProgress:s[1],reset:s[3]};return s[0]!==void 0&&(o.selectedCanvasRes=s[0]),e=new Te({props:o}),be.push(()=>Ve(e,"selectedCanvasRes",m)),l=new je({props:{renderInProgress:s[1]}}),{c(){te(e.$$.fragment),n=P(),te(l.$$.fragment),r=P(),i=w("canvas"),this.h()},l(a){se(e.$$.fragment,a),n=y(a),se(l.$$.fragment,a),r=y(a),i=I(a,"CANVAS",{class:!0,width:!0,height:!0}),C(i).forEach(g),this.h()},h(){b(i,"class","w-screen h-screen"),b(i,"width",_=H[s[0]].w),b(i,"height",c=H[s[0]].h)},m(a,R){ne(e,a,R),j(a,n,R),ne(l,a,R),j(a,r,R),j(a,i,R),s[7](i),d=!0},p(a,[R]){const L={};R&2&&(L.renderInProgress=a[1]),!t&&R&1&&(t=!0,L.selectedCanvasRes=a[0],He(()=>t=!1)),e.$set(L);const D={};R&2&&(D.renderInProgress=a[1]),l.$set(D),(!d||R&1&&_!==(_=H[a[0]].w))&&b(i,"width",_),(!d||R&1&&c!==(c=H[a[0]].h))&&b(i,"height",c)},i(a){d||(U(e.$$.fragment,a),U(l.$$.fragment,a),he(()=>{h||(h=J(i,Q,{},!0)),h.run(1)}),d=!0)},o(a){B(e.$$.fragment,a),B(l.$$.fragment,a),h||(h=J(i,Q,{},!1)),h.run(0),d=!1},d(a){le(e,a),a&&g(n),le(l,a),a&&g(r),a&&g(i),s[7](null),a&&h&&h.end()}}}function Ue(s,e,t){let n;ge(s,F,o=>t(5,n=o));let l=!1,r=!1,i=0,_;Me(()=>{t(4,l=!0)});function c(){const o=_.getContext("2d"),a=o.getImageData(0,0,H[i].w,H[i].h);let R=new Worker("worker.js");t(1,r=!0),R.postMessage({imgData:a,mandelRes:W[n]}),R.addEventListener("message",L=>{o.putImageData(L.data,0,0),t(1,r=!1),R.terminate()})}function h(){t(0,i=0),F.set(0),c()}function d(o){i=o,t(0,i)}function m(o){be[o?"unshift":"push"](()=>{_=o,t(2,_)})}return s.$$.update=()=>{s.$$.dirty&49&&l&&H[i]&&W[n]&&c()},[i,r,_,h,l,n,d,m]}class Se extends ${constructor(e){super();x(this,e,Ue,Ke,ee,{})}}export{Se as default};
